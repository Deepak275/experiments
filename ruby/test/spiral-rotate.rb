a = [24, 12, 8, 6]



result = []

sum = 1
for i in a 
  next if i == 0
  sum = sum * i 
end

for i in a do
  result.push(sum) and next result.push if i == 0
  result.push(sum/)
end




[12, 0 , 8, 0]

[0, 0, 0, 0]